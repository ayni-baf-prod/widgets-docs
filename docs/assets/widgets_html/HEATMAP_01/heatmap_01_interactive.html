<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heatmap Personalizado (v3)</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f0f2f5;
            display: flex;
            justify-content: center; 
            align-items: center; 
            padding: 20px; 
            box-sizing: border-box;
            min-height: 350px; 
        }
        .heatmap-widget-wrapper {
            width: 100%;
            max-width: 700px;
        }
        .heatmap-container {
            display: flex;
            flex-direction: column;
            gap: 4px; 
            background-color: #fff; 
            padding: 4px; 
            border-radius: 6px; 
            box-shadow: 0 2px 8px rgba(0,0,0,0.1); 
        }
        .heatmap-row {
            display: flex;
            gap: 4px; 
        }
        .heatmap-block {
            padding: 12px;
            color: #34495E;
            font-weight: 600;
            font-size: 12px;
            text-transform: uppercase;
            border-radius: 4px; 
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            line-height: 1.3;
            min-height: 70px;
            box-sizing: border-box;
            overflow: hidden;
        }
        .block-text {
            max-width: 100%;
        }

        /* Flex properties for layout (same as v2) */
        .heatmap-row:nth-child(1) .heatmap-block:nth-child(1) { flex: 0 0 35%; } 
        .heatmap-row:nth-child(1) .heatmap-block:nth-child(2) { flex: 0 0 35%; } 
        .heatmap-row:nth-child(1) .heatmap-block:nth-child(3) { flex: 1; }    
        .heatmap-row:nth-child(2) .heatmap-block:nth-child(1) { flex: 0 0 30%; } 
        .heatmap-row:nth-child(2) .heatmap-block:nth-child(2) { flex: 0 0 30%; } 
        .heatmap-row:nth-child(2) .heatmap-block:nth-child(3) { flex: 0 0 20%; } 
        .heatmap-row:nth-child(2) .heatmap-block:nth-child(4) { flex: 1; }    
        
        .heatmap-legend {
            margin-top: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 12px;
            color: rgba(75, 75, 75, 1);
            padding: 0 5px;
        }
        .legend-bar-container {
            flex-grow: 1;
            margin: 0 10px;
            height: 12px;
            border-radius: 6px;
            /* Inverted gradient: Red -> Orange -> Green */
            background: linear-gradient(to right, 
                #F4A0A0 0%,  /* Start Red */
                #F4A0A0 30%, 
                #FFC87C 50%,  /* Middle Orange */
                #A8D8A8 70%, /* Start Green */
                #A8D8A8 100% /* End Green */
            );
        }
        .legend-label {
            font-weight: 500;
        }

         @media (max-width: 600px) {
            .heatmap-block { font-size: 10px; padding: 8px; min-height: 50px; }
            .heatmap-legend { font-size: 11px; padding: 0; }
            .legend-bar-container { height: 10px; margin: 0 5px; }
        }}
    </style>
</head>
<body>
    <div class="heatmap-widget-wrapper">
        <div class="heatmap-container">
            <div class="heatmap-row">
                <div class="heatmap-block" style="background-color: #A8D8A8;" title="Valor: 930,305 USD
Cumplimiento: 90%">                           <span class="block-text">Aynitech Factory</span>                       </div><div class="heatmap-block" style="background-color: #A8D8A8;" title="Valor: 826,097 USD
Cumplimiento: 70%">                           <span class="block-text">Network</span>                       </div><div class="heatmap-block" style="background-color: #FFC87C;" title="Valor: 653,309 USD
Cumplimiento: 50%">                           <span class="block-text">ISocial Cube</span>                       </div>
            </div>
            <div class="heatmap-row">
                <div class="heatmap-block" style="background-color: #FFC87C;" title="Valor: 254,441 USD
Cumplimiento: 40%">                           <span class="block-text">Aynitech Group</span>                       </div><div class="heatmap-block" style="background-color: #F4A0A0;" title="Valor: 229,132 USD
Cumplimiento: 20%">                           <span class="block-text">TITI</span>                       </div><div class="heatmap-block" style="background-color: #F4A0A0;" title="Valor: 170,431 USD
Cumplimiento: 30%">                           <span class="block-text">TnT</span>                       </div><div class="heatmap-block" style="background-color: #A8D8A8;" title="Valor: 56,920 USD
Cumplimiento: 80%">                           <span class="block-text">ISC</span>                       </div>
            </div>
        </div>
        <div class="heatmap-legend">
            <span class="legend-label">No Cumple</span>
            <div class="legend-bar-container"></div>
            <span class="legend-label">Cumple</span>
        </div>
    </div>
</body>
</html>